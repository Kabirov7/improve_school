(this.webpackJsonpimprove_school=this.webpackJsonpimprove_school||[]).push([[0],{74:function(e,t,c){},75:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(16),r=c.n(o),s=(c(74),c(75),c(32)),i=c(11),l=c(21),j=c(37);j.a.initializeApp({apiKey:"AIzaSyCs4wBkenI3_mQKkJupWe_0rG6hOMcBif0",authDomain:"improve-school.firebaseapp.com",projectId:"improve-school",storageBucket:"improve-school.appspot.com",messagingSenderId:"1053936762649",appId:"1:1053936762649:web:768c2d2828768b01fecf88",measurementId:"G-FGZQ895MFF"});new j.a.auth.GoogleAuthProvider;var u=j.a,b=c(6),h=a.a.createContext(),O=function(e){var t=e.children,c=Object(n.useState)(null),a=Object(l.a)(c,2),o=a[0],r=a[1];return Object(n.useEffect)((function(){u.auth().onAuthStateChanged(r)}),[]),Object(b.jsx)(h.Provider,{value:{currentUser:o},children:t})},m=c(127),d=c(122),x=c(118),p=Object(x.a)({button:{marginTop:50},title:{fontSize:10,marginTop:20}}),f=function(e){e.history;var t=p();return Object(n.useContext)(h).currentUser?Object(b.jsx)(i.a,{to:"/improve_school/"}):Object(b.jsxs)("div",{children:[Object(b.jsx)(m.a,{className:t.button,onClick:function(){j.a.auth().signInAnonymously()},variant:"contained",color:"secondary",children:"Log in"}),Object(b.jsxs)(d.a,{className:t.title,color:"textSecondary",component:"p",children:["\u0414\u0430\u043d\u043d\u043e\u0435 \u0432\u0435\u0431 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043b\u044e\u0431\u043e\u0439 \u0443\u0447\u0435\u043d\u0438\u043a \u0438\u043b\u0438 \u0443\u0447\u0430\u0449\u0438\u0439\u0441\u044f \u043c\u043e\u0433 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043f\u0440\u043e \u0435\u0433\u043e \u0448\u043a\u043e\u043b\u0443. \u0412\u0441\u0451 100% \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e. ",Object(b.jsx)("br",{}),"(\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441 \u0446\u0435\u043b\u044c\u044e \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0432\u043e\u0435\u043d\u0438\u0439)"]})]})},g=c(128),v=c(123),y=c(126),S=Object(x.a)((function(e){return Object(g.a)({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})})),k=function(e){S();var t=Object(n.useState)(""),c=Object(l.a)(t,2),a=c[0],o=c[1];return Object(b.jsx)(y.a,{label:e.label,id:e.id,onChange:function(t){o(t.target.value),e.returnAnswer(t.target.value)},value:a})},C=Object(x.a)((function(e){return Object(g.a)({root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)}})})),T=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),s=r[0],j=r[1],O=Object(n.useState)(""),d=Object(l.a)(O,2),x=d[0],p=d[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),S=g[0],T=g[1],w=Object(n.useState)(),N=Object(l.a)(w,2),A=(N[0],N[1],Object(n.useState)()),B=Object(l.a)(A,2),I=(B[0],B[1]),F=Object(n.useContext)(h).currentUser,D=C(),_=Object(i.f)();return Object(b.jsxs)("div",{style:{marginTop:40},children:[Object(b.jsx)("div",{children:Object(b.jsxs)(v.a,{justify:"center",className:D.root,container:!0,spacing:3,children:[Object(b.jsx)(v.a,{item:!0,xs:3,children:Object(b.jsx)(k,{label:"Nick Name",id:"nick",returnAnswer:function(e){a(e)}})}),Object(b.jsx)(v.a,{item:!0,xs:3,children:Object(b.jsx)(k,{label:"School",id:"school",returnAnswer:function(e){j(e)}})}),Object(b.jsx)(v.a,{item:!0,xs:3,children:Object(b.jsx)(k,{label:"\u0422\u0435\u043c\u0430",id:"subject",returnAnswer:function(e){T(e)},helperText:"HashTag (#lovlymath)"})})]})}),Object(b.jsx)("div",{children:Object(b.jsx)(v.a,{container:!0,justify:"center",className:D.root,spacing:3,children:Object(b.jsx)(v.a,{item:!0,xs:8,children:Object(b.jsx)(y.a,{style:{margin:20},id:"message",label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",value:x,onChange:function(e){p(e.target.value)},multiline:!0,rows:5,variant:"outlined",helperText:"\u0414\u043b\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0430(".concat(x.length,") \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c > 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),fullWidth:!0})})})}),Object(b.jsx)(v.a,{justify:"center",container:!0,spacing:3,children:Object(b.jsx)(v.a,{item:!0,xs:9,children:Object(b.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e=new Date;e.setDate(e.getDate()+1);var t,n=!0,a=u.firestore(),o={school:s,subject:S,message:x,email:F.email,created:u.firestore.Timestamp.fromDate(e)};-1==S.indexOf(" ")&&0==S.indexOf("#")&&(t=!1),x.length>=50&&(n=!1),t||n||(a.collection("messages").doc().set(o).then(),a.collection("users").doc(F.uid).set({nickname:c,lastWrite:u.firestore.Timestamp.fromDate(e)}),console.log("save"),I(!0))}()},children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e"})})}),Object(b.jsx)(v.a,{justify:"center",container:!0,style:{marginTop:30},spacing:15,children:Object(b.jsx)(v.a,{item:!0,xs:9,children:Object(b.jsx)(m.a,{color:"primary",className:"px-4",onClick:function(){_.push("/comments")},children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})})}),Object(b.jsx)(v.a,{justify:"center",container:!0,style:{marginTop:30},spacing:15,children:Object(b.jsx)(v.a,{item:!0,xs:9,children:Object(b.jsx)(m.a,{onClick:function(){return u.auth().signOut()},children:"Log out"})})})]})},w=c(124),N=c(125),A=Object(x.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,fontWeight:700},pos:{marginBottom:12},container:{marginTop:20}}),B=function(e){var t=A();return Object(b.jsx)("div",{className:t.container,children:Object(b.jsx)(w.a,{children:Object(b.jsxs)(N.a,{children:[Object(b.jsxs)(d.a,{className:t.title,color:"black",gutterBottom:!0,children:["Nick: ",e.nickname]}),Object(b.jsxs)(d.a,{className:t.title,color:"black",gutterBottom:!0,children:["School: ",e.school]}),Object(b.jsxs)(d.a,{className:t.title,color:"black",gutterBottom:!0,children:["HashTag: ",e.subject]}),Object(b.jsx)(d.a,{variant:"body2",component:"p",children:e.message})]})})})},I=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],o=(Object(n.useContext)(h).currentUser,Object(i.f)());Object(n.useEffect)((function(){u.firestore().collection("messages").orderBy("created","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),a(t)}))}),[]);return Object(n.useEffect)((function(){console.log(c)}),[c]),Object(b.jsxs)("div",{children:[Object(b.jsx)(m.a,{color:"primary",className:"px-4",onClick:function(){o.push("improve_school")},children:"Create Comments"}),c.map((function(e,t){return Object(b.jsx)(B,{school:e.school,subject:e.subject,message:e.message})}))]})},F=c(46),D=c(60),_=function(e){var t=e.component,c=Object(D.a)(e,["component"]),a=Object(n.useContext)(h).currentUser;return Object(b.jsx)(i.b,Object(F.a)(Object(F.a)({},c),{},{render:function(e){return a?Object(b.jsx)(t,Object(F.a)({},e)):Object(b.jsx)(i.a,{to:"/login"})}}))};var E=function(){return Object(b.jsx)(O,{children:Object(b.jsx)(s.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(_,{exact:!0,path:"/improve_school",component:T}),Object(b.jsx)(i.b,{exact:!0,path:"/comments",component:I}),Object(b.jsx)(i.b,{exact:!0,path:"/login",component:f})]})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,130)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),o(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root")),G()}},[[84,1,2]]]);
//# sourceMappingURL=main.399a0736.chunk.js.map