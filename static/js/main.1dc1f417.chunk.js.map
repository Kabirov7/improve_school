{"version":3,"sources":["util/firebase.js","util/Auth.js","Components/Auth/LogIn.js","Components/forms/TextInput.js","Components/Comment/CreateComment.js","Components/forms/item.js","Components/Comment/Comments.js","Components/Auth/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","GoogleAuthProvider","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","app","onAuthStateChanged","Provider","value","useStyles","makeStyles","button","marginTop","title","fontSize","LogIn","history","classes","useContext","to","Button","className","onClick","signInAnonymously","variant","color","Typography","component","theme","createStyles","root","margin","spacing","width","TextInput","props","setValue","TextField","label","id","onChange","event","target","returnAnswer","flexGrow","paper","height","control","padding","CreateComment","nick","setNick","school","setSchool","message","setMessage","subject","setSubject","setSave","useHistory","style","Grid","justify","container","item","xs","answer","helperText","multiline","rows","length","fullWidth","date","Date","setDate","getDate","isSubject","isMessage","db","firestore","data","email","created","Timestamp","fromDate","indexOf","collection","doc","set","then","uid","nickname","lastWrite","console","log","push","saveComment","signOut","minWidth","bullet","display","transform","fontWeight","pos","marginBottom","Item","Card","CardContent","gutterBottom","Comments","items","setItems","orderBy","onSnapshot","querySnapshot","forEach","map","el","i","PrivateRoute","RouteComponent","rest","render","routeProps","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1dc1f417.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyCs4wBkenI3_mQKkJupWe_0rG6hOMcBif0\",\r\n    authDomain: \"improve-school.firebaseapp.com\",\r\n    projectId: \"improve-school\",\r\n    storageBucket: \"improve-school.appspot.com\",\r\n    messagingSenderId: \"1053936762649\",\r\n    appId: \"1:1053936762649:web:768c2d2828768b01fecf88\",\r\n    measurementId: \"G-FGZQ895MFF\"\r\n}\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nexport const signInWithGoogle = () => {\r\n\tfirebase.auth().signInWithPopup(provider);\r\n};\r\n\r\nexport const signInAnonymously = () => {\r\n\tfirebase.auth().signInAnonymously()\r\n}\r\n\r\nexport default firebase;","import React, {useEffect, useState} from \"react\";\nimport app from './firebase';\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n\tconst [currentUser, setCurrentUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tapp.auth().onAuthStateChanged(setCurrentUser)\n\t}, []);\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{currentUser}}>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t)\n}","import React, {useCallback, useContext} from \"react\";\nimport {withRouter, Redirect} from \"react-router\";\nimport app, {signInAnonymously} from \"../../util/firebase\";\nimport {AuthContext} from \"../../util/Auth\";\nimport {Button, Typography} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n\tbutton: {\n\t\tmarginTop: 50,\n\t},title: {\n\t\tfontSize: 10,\n\t\tmarginTop:20\n\t},\n});\nconst LogIn = ({history}) => {\n\tconst classes = useStyles();\n\tconst {currentUser} = useContext(AuthContext);\n\n\tif (currentUser) {\n\t\treturn <Redirect to={\"/improve_school/\"}/>\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Button className={classes.button} onClick={() => signInAnonymously()} variant=\"contained\" color=\"secondary\">\n\t\t\t\tLog in\n\t\t\t</Button>\n\t\t\t<Typography className={classes.title} color={\"textSecondary\"} component={'p'}>\n\t\t\t\tДанное веб приложение созданно для того чтобы любой ученик или учащийся мог рассказать что-то про его школу. Всё 100% анонимно. <br/>\n\t\t\t\t(Авторизация используется с целью устранения задвоений)\n\t\t\t</Typography>\n\t\t</div>\n\n\t)\n}\n\nexport default LogIn;","import InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, {useState} from \"react\";\nimport {makeStyles, createStyles, Theme} from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\t'& .MuiTextField-root': {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\twidth: '25ch',\n\t\t\t},\n\t\t},\n\t}),\n);\n\n\nconst TextInput = (props) => {\n\tconst classes = useStyles();\n\n\tconst [value, setValue] = useState(\"\");\n\n\tconst handleChange = (event) => {\n\t\tsetValue(event.target.value)\n\t\tprops.returnAnswer(event.target.value)\n\t};\n\n\treturn (\n\t\t<TextField\n\t\t\tlabel={props.label}\n\t\t\tid={props.id}\n\t\t\tonChange={handleChange}\n\t\t\tvalue={value}\n\n\t\t/>)\n}\n\nexport default TextInput;","import React, {useState, useEffect, useContext} from \"react\";\nimport firebase from \"../../util/firebase\";\nimport {AuthContext} from \"../../util/Auth\";\nimport {makeStyles, createStyles, Theme, Typography} from \"@material-ui/core\";\nimport {Redirect} from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextInput from \"../forms/TextInput\";\nimport {red} from \"@material-ui/core/colors\";\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tpaper: {\n\t\t\theight: 140,\n\t\t\twidth: 100,\n\t\t},\n\t\tcontrol: {\n\t\t\tpadding: theme.spacing(2),\n\t\t},\n\t}),\n);\nconst CreateComment = () => {\n\tconst [nick, setNick] = useState(\"\")\n\tconst [school, setSchool] = useState(\"\")\n\tconst [message, setMessage] = useState(\"\")\n\tconst [subject, setSubject] = useState(\"\")\n\tconst [availableWrite, setAvailableWrite] = useState()\n\tconst [save, setSave] = useState()\n\n\tconst {currentUser} = useContext(AuthContext);\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\n\t/*useEffect(() => {\n\t\tconst db = firebase.firestore()\n\t\tconst usersRef = db.collection('users').doc(currentUser.uid)\n\n\t\tusersRef.get()\n\t\t\t.then((docSnapshot) => {\n\t\t\t\tif (docSnapshot.exists) {\n\t\t\t\t\tusersRef.onSnapshot((doc) => {\n\t\t\t\t\t\tlet d = new Date() > doc.data()['lastWrite'].toDate()\n\t\t\t\t\t\tsetAvailableWrite(d)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlet date = new Date()\n\t\t\t\t\tdate.setDate(date.getDate() - 12)\n\t\t\t\t\tusersRef.set({\n\t\t\t\t\t\temail: currentUser.email,\n\t\t\t\t\t\tlastWrite: firebase.firestore.Timestamp.fromDate(date)\n\t\t\t\t\t}) // create the document\n\t\t\t\t\tsetAvailableWrite(true)\n\n\t\t\t\t}\n\t\t\t});*/\n\n\t/*firebase.firestore().collection('users').doc(currentUser.uid + \"1232\").get()\n\t\t.then(doc => {\n\t\t\tlet d = new Date() > doc.data()['lastWrite'].toDate()\n\t\t\tsetAvailableWrite(d)\n\t\t\tconsole.log(\"ddd => \", d)\n\t\t\tconsole.log(\"setAvailableWrite => \", availableWrite)\n\t\t})\n}, [])*/\n\n\t/*\tuseEffect(() => {\n\t\t\tfirebase.firestore().collection('users').doc(currentUser.uid).get()\n\t\t\t\t.then(doc => {\n\t\t\t\t\tlet d = new Date() > doc.data()['lastWrite'].toDate()\n\t\t\t\t\tsetAvailableWrite(d)\n\t\t\t\t\tconsole.log(\"ddd => \", d)\n\t\t\t\t\tconsole.log(\"setAvailableWrite => \", availableWrite)\n\t\t\t\t})\n\t\t}, [save])*/\n\n\tconst returnNick = (answer) => {\n\t\tsetNick(answer)\n\t}\n\n\tconst returnSchool = (answer) => {\n\t\tsetSchool(answer)\n\t}\n\n\tconst returnSubject = (answer) => {\n\t\tsetSubject(answer)\n\t}\n\n\tconst returnMessage = (event) => {\n\t\tsetMessage(event.target.value)\n\t};\n\n\tconst saveComment = () => {\n\t\tlet date = new Date()\n\t\tdate.setDate(date.getDate() + 1)\n\n\t\tlet isSubject, isMessage = true;\n\t\tlet db = firebase.firestore()\n\n\t\tlet data = {\n\t\t\tschool: school,\n\t\t\tsubject: subject,\n\t\t\tmessage: message,\n\t\t\temail: currentUser.email,\n\t\t\tcreated: firebase.firestore.Timestamp.fromDate(date)\n\n\t\t}\n\n\t\tif (subject.indexOf(\" \") == -1 && subject.indexOf(\"#\") == 0) {\n\t\t\tisSubject = false\n\t\t}\n\n\t\tif (message.length >= 50) {\n\t\t\tisMessage = false\n\t\t}\n\n\t\tif (!isSubject && !isMessage) {\n\t\t\tdb.collection(\"messages\").doc().set(data).then()\n\t\t\tdb.collection(\"users\").doc(currentUser.uid).set({\n\t\t\t\tnickname: nick,\n\t\t\t\tlastWrite: firebase.firestore.Timestamp.fromDate(date)\n\t\t\t})\n\t\t\tconsole.log('save')\n\t\t\tsetSave(true)\n\t\t\thistory.push('/comments')\n\n\t\t}\n\t}\n\n\tconst routeChange = () => {\n\t\thistory.push('/comments')\n\t}\n\n\treturn (\n\t\t<div style={{marginTop: 40}}>\n\t\t\t<div>\n\t\t\t\t<Grid justify=\"center\" className={classes.root} container spacing={3}>\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tlabel=\"Nick\"\n\t\t\t\t\t\t\tid=\"nick\"\n\t\t\t\t\t\t\treturnAnswer={returnNick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tlabel=\"School\"\n\t\t\t\t\t\t\tid=\"school\"\n\t\t\t\t\t\t\treturnAnswer={returnSchool}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tlabel=\"Тема\"\n\t\t\t\t\t\t\tid=\"subject\"\n\t\t\t\t\t\t\treturnAnswer={returnSubject}\n\t\t\t\t\t\t\thelperText=\"HashTag (#lovlymath)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Grid container justify=\"center\" className={classes.root} spacing={3}>\n\t\t\t\t\t<Grid item xs={8}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid={\"message\"}\n\t\t\t\t\t\t\tlabel=\"История\"\n\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\tonChange={returnMessage}\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\thelperText={`Длина текста(${message.length}) должна быть > 50 символов`}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t\t<Grid justify=\"center\" container spacing={3}>\n\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => saveComment()}\n\t\t\t\t\t>\n\t\t\t\t\t\tОставить историю\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid justify=\"center\" container style={{marginTop: 30}} spacing={15}>\n\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t<Button color=\"primary\" className=\"px-4\"\n\t\t\t\t\t\t\t\t\tonClick={routeChange}>\n\t\t\t\t\t\tПосмотреть все истории\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid justify=\"center\" container style={{marginTop: 30}} spacing={15}>\n\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t<Button onClick={() => firebase.auth().signOut()}>Log out</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t</div>\n\t)\n}\n\nexport default CreateComment;","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tminWidth: 275,\n\t},\n\tbullet: {\n\t\tdisplay: 'inline-block',\n\t\tmargin: '0 2px',\n\t\ttransform: 'scale(0.8)',\n\t},\n\ttitle: {\n\t\tfontSize: 14,\n\t\tfontWeight: 700\n\t},\n\tpos: {\n\t\tmarginBottom: 12,\n\t},\n\tcontainer: {\n\t\tmarginTop:20\n\t}\n});\n\nconst Item = (props) => {\n\tconst classes = useStyles();\n\t\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography className={classes.title} color=\"black\" gutterBottom>\n\t\t\t\t\t\tNick: {props.nickname}\n\t\t\t\t\t</Typography><Typography className={classes.title} color=\"black\" gutterBottom>\n\t\t\t\t\t\tSchool: {props.school}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.title} color=\"black\" gutterBottom>\n\t\t\t\t\t\tHashTag: {props.subject}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\n\t\t\t\t\t\t{props.message}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</div>\n\t)\n\n}\n\nexport default Item","import React, {useState, useEffect, useContext} from \"react\";\nimport firebase from \"../../util/firebase\";\nimport {AuthContext} from \"../../util/Auth\";\nimport Item from \"../forms/item\";\nimport {useHistory} from \"react-router-dom\";\nimport {makeStyles, createStyles, Theme, Typography, Link} from \"@material-ui/core\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport {withRouter, Redirect} from \"react-router\";\nimport Button from '@material-ui/core/Button';\nimport {HashRouter as Router, Route, Switch} from \"react-router-dom\";\n\nconst Comments = () => {\n\tconst [items, setItems] = useState([]);\n\tconst {currentUser} = useContext(AuthContext);\n\tconst history = useHistory();\n\n\n\tuseEffect(() => {\n\t\tlet db = firebase.firestore();\n\t\tdb.collection(\"messages\").orderBy(\"created\", \"desc\")\n\t\t\t.onSnapshot(function (querySnapshot) {\n\t\t\t\tlet items = [];\n\t\t\t\tquerySnapshot.forEach(function (doc) {\n\t\t\t\t\titems.push(doc.data());\n\t\t\t\t});\n\t\t\t\tsetItems(items);\n\t\t\t});\n\t}, []);\n\n\tconst routeChange = () => {\n\t\tlet path = `improve_school`;\n\t\thistory.push(path);\n\t}\n\n\tuseEffect(() => {\n\t\tconsole.log(items)\n\t}, [items])\n\treturn (\n\t\t<div>\n\t\t\t<Button color=\"primary\" className=\"px-4\"\n\t\t\t\t\t\t\tonClick={routeChange}>\n\t\t\t\tCreate Comments\n\t\t\t</Button>\n\t\t\t{items.map((el, i) => {\n\t\t\t\treturn <Item school={el.school} subject={el.subject} message={el.message}/>\n\t\t\t})}\n\t\t</div>\n\n\t)\n}\nexport default Comments","import React, {useContext} from \"react\";\nimport {Route, Redirect} from \"react-router\";\nimport {AuthContext} from \"../../util/Auth\";\n\nconst PrivateRoute = ({component: RouteComponent, ...rest}) => {\n\tconst {currentUser} = useContext(AuthContext);\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={routeProps =>\n\t\t\t\t!!currentUser ? (\n\t\t\t\t<RouteComponent {...routeProps}/>\n\t\t\t) : (\n\t\t\t\t<Redirect to={\"/login\"}/>\n\t\t\t)}\n\t\t/>\n\t)\n}\n\nexport default PrivateRoute","import './App.css';\nimport {\n\tBrowserRouter as Router,\n\tRoute, Switch,\n} from \"react-router-dom\";\nimport {AuthContext, AuthProvider} from \"./util/Auth\";\nimport firebase, { signInWithGoogle } from './util/firebase'\nimport LogIn from \"./Components/Auth/LogIn\"\nimport CreateComment from \"./Components/Comment/CreateComment\"\nimport Comments from \"./Components/Comment/Comments\"\nimport PrivateRoute from \"./Components/Auth/PrivateRoute\";\nimport Button from \"@material-ui/core/Button\";\n\n\nfunction App() {\n\treturn (\n\t\t<AuthProvider>\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<PrivateRoute exact path={\"/improve_school\"} component={CreateComment}/>\n\t\t\t\t\t<Route exact path={\"/comments\"} component={Comments}/>\n\t\t\t\t\t<Route exact path={\"/login\"} component={LogIn}/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</AuthProvider>\n\n);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}